<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream Control</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; padding: 20px; text-align: center; }
        .card { background: #2d2d2d; border-radius: 15px; padding: 15px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .btn { background: #2481cc; border: none; color: white; padding: 12px 24px; border-radius: 8px; width: 100%; font-size: 16px; margin: 5px 0; cursor: pointer; }
        .btn-stop { background: #cc2424; }
        .stat { display: flex; justify-content: space-between; margin: 10px 0; font-size: 14px; color: #aaa; }
        input { width: 90%; padding: 10px; border-radius: 8px; border: 1px solid #444; background: #1a1a1a; color: white; }
    </style>
</head>
<body>
    <h2>üé∏ Stream Manager</h2>
    
    <div class="card">
        <div class="stat"><span>–°—Ç–∞—Ç—É—Å:</span> <span id="status" style="color: #00ff00;">Online</span></div>
        <div class="stat"><span>–í–∏–¥–µ–æ –≤ –±–∞–∑–µ:</span> <span id="video_count">0</span></div>
        <div class="stat"><span>GPU:</span> <span id="gpu_load">GTX 1660S</span></div>
    </div>

    <div class="card">
        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
        <button class="btn" onclick="send('start')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–∏–º</button>
        <button class="btn btn-stop" onclick="send('stop')">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    </div>

    <div class="card">
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞</h3>
        <input type="text" id="queries" placeholder="–î–æ—Ä–∞, –ú–µ–π–±–∏ –ë–µ–π–±–∏...">
        <button class="btn" style="background: #444;" onclick="updateQueries()">–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        function send(command) {
            tg.sendData(command); // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É
        }

        function updateQueries() {
            const val = document.getElementById('queries').value;
            tg.sendData("set_queries:" + val);
        }
    </script>
</body>
</html>
